(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{6138:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>N});var n=i(5155),o=i(2115),a=i(6758),r=i(7020),l=i(5358),s=i(2269);function d(t){let{activeNotes:e,startMidi:i}=t,o=i,r=[];for(;r.length<14;)a.jN(o,"midi").toNote().includes("#")||r.push(o),o++;let l=[];for(let t=i;t<o;t++)l.push(t);let d=r.map((t,e)=>({midi:t,left:40*e,note:a.jN(t,"midi").toNote()})),m=l.filter(t=>a.jN(t,"midi").toNote().includes("#")).map(t=>{let e=a.jN(t,"midi").toNote(),i=r.indexOf(t-1);return -1===i?null:{midi:t,left:d[i].left+40-12.5,note:e}}).filter(t=>null!==t);return(0,n.jsxs)(s.default,{sx:{position:"relative",width:{xs:"100%",sm:"".concat(560,"px")},height:{xs:"auto",sm:"".concat(150,"px")},aspectRatio:{xs:"".concat(560," / ").concat(150),sm:"unset"},margin:"0px auto",border:"2px solid black"},children:[d.map(t=>(0,n.jsx)(s.default,{sx:{position:"absolute",left:{xs:"".concat(t.left/560*100,"%"),sm:t.left},width:{xs:"".concat(7.142857142857142,"%"),sm:40},height:"100%",border:"1px solid black",backgroundColor:e.includes(t.note)?"#FFA500":"white",boxSizing:"border-box"},children:t.note.startsWith("C")&&(0,n.jsx)(s.default,{sx:{position:"absolute",bottom:4,left:0,right:0,textAlign:"center",fontSize:"0.7em",color:"black",pointerEvents:"none"},children:t.note})},t.midi)),m.map(t=>(0,n.jsx)(s.default,{sx:{position:"absolute",left:{xs:"".concat(t.left/560*100,"%"),sm:t.left},width:{xs:"".concat(4.464285714285714,"%"),sm:25},height:{xs:"".concat(60,"%"),sm:90},backgroundColor:e.includes(t.note)?"#FF0500":"black",border:"1px solid #333",borderRadius:"0 0 3px 3px",zIndex:2}},t.midi))]})}let m={major:{root:[0,4,7],inv1:[4,7,12],inv2:[7,12,16]},minor:{root:[0,3,7],inv1:[3,7,12],inv2:[7,12,15]},diminished:{root:[0,3,6],inv1:[3,6,12],inv2:[6,12,15]},augmented:{root:[0,4,8],inv1:[4,8,12],inv2:[8,12,16]},"suspended 2nd":{root:[0,2,7],inv1:[2,7,12],inv2:[7,12,14]},"suspended 4th":{root:[0,5,7],inv1:[5,7,12],inv2:[7,12,17]},"major 6th":{root:[0,4,7,9],inv1:[4,7,9,12],inv2:[7,9,12,16],inv3:[9,12,16,19]},"minor 6th":{root:[0,3,7,9],inv1:[3,7,9,12],inv2:[7,9,12,15],inv3:[9,12,15,19]},"dominant 7th":{root:[0,4,7,10],inv1:[4,7,10,12],inv2:[7,10,12,16],inv3:[10,12,16,19]},"major 7th":{root:[0,4,7,11],inv1:[4,7,11,12],inv2:[7,11,12,16],inv3:[11,12,16,19]},"minor 7th":{root:[0,3,7,10],inv1:[3,7,10,12],inv2:[7,10,12,15],inv3:[10,12,15,19]},"half diminished 7th":{root:[0,3,6,10],inv1:[3,6,10,12],inv2:[6,10,12,15],inv3:[10,12,15,18]},"diminished 7th":{root:[0,3,6,9],inv1:[3,6,9,12],inv2:[6,9,12,15],inv3:[9,12,15,18]},"minor major 7th":{root:[0,3,7,11],inv1:[3,7,11,12],inv2:[7,11,12,15],inv3:[11,12,15,19]},"augmented 7th":{root:[0,4,8,10],inv1:[4,8,10,12],inv2:[8,10,12,16],inv3:[10,12,16,20]},"augmented major 7th":{root:[0,4,8,11],inv1:[4,8,11,12],inv2:[8,11,12,16],inv3:[11,12,16,20]}},u={major:"",minor:"m",diminished:"dim",augmented:"aug","suspended 2nd":"sus2","suspended 4th":"sus4","major 6th":"6","minor 6th":"m6","dominant 7th":"7","major 7th":"maj7","minor 7th":"m7","half diminished 7th":"\xf87","diminished 7th":"dim7","minor major 7th":"m(maj7)","augmented 7th":"aug7","augmented major 7th":"augmaj7"},h=(t,e)=>{let i=0;if("inv1"===e&&(i=1),"inv2"===e&&(i=2),"inv3"===e&&(i=3),["major","minor","diminished","augmented","suspended 2nd","suspended 4th"].includes(t)){if(0===i)return"";if(1===i)return"6/3";if(2===i)return"6/4"}else{if(0===i)return"";if(1===i)return"6/5";if(2===i)return"4/3";if(3===i)return"2/5"}return""},c=(t,e)=>e.map(e=>a.jN(t+e,"midi").toNote()),x=t=>{var e;let{baseNote:i,chordType:o,inversion:r}=t,d=c(i,m[o][r]),x=a.jN(i,"midi").toNote().replace(/\d+$/,""),p=null!==(e=u[o])&&void 0!==e?e:o,v=h(o,r);return(0,n.jsxs)(s.default,{sx:{mt:4,textAlign:"center"},children:[(0,n.jsxs)(l.default,{variant:"h5",gutterBottom:!0,children:["Current Chord: ",x+p+(v?" (".concat(v,")"):"")]}),(0,n.jsxs)(l.default,{variant:"body1",children:["Notes: ",d.join(", ")]})]})};var p=i(7709);let v=[{label:"Root",key:"root"},{label:"1st",key:"inv1"},{label:"2nd",key:"inv2"},{label:"3rd",key:"inv3"}];function f(t){let{playChord:e}=t,i=Object.keys(m),[a,r]=(0,o.useState)(null),[d,u]=(0,o.useState)(null),h=(t,i)=>{r(t),u(i),e(t,i),setTimeout(()=>{r(null),u(null)},1500)};return(0,n.jsx)(s.default,{sx:{display:"flex",justifyContent:"center",padding:2,overflow:"visible"},children:(0,n.jsxs)(s.default,{sx:{display:"grid",gridTemplateColumns:"80px repeat(".concat(i.length,", 50px)"),gap:1,padding:"2rem",alignItems:"center",justifyItems:"center",maxWidth:"100%","@media (max-width: 1000px)":{gridTemplateColumns:"minmax(50px, 1fr) repeat(".concat(v.length,", minmax(40px, 1fr))"),gridTemplateRows:"minmax(40px, auto) repeat(".concat(i.length,", minmax(40px, auto))"),width:"100%",padding:"1rem",gap:"4px"}},children:[(0,n.jsx)(s.default,{sx:{height:"60px",width:"80px","@media (max-width: 1000px)":{display:"none"}}}),i.map((t,e)=>(0,n.jsx)(s.default,{sx:{width:"60px",height:"80px",display:"flex",alignItems:"center",justifyContent:"left",textAlign:"left",fontWeight:"bold",transform:"rotate(-60deg)",transformOrigin:"left bottom",position:"relative",left:"50px",bottom:"-10px","@media (max-width: 1000px)":{transform:"rotate(0)",gridColumn:"1 / span 1",gridRow:"".concat(e+2," / span 1"),justifyContent:"center",textAlign:"center",left:0,bottom:0,marginRight:"1.5rem"}},children:(0,n.jsx)(l.default,{variant:"body2",sx:{fontWeight:"bold",whiteSpace:"nowrap",color:a===t?"blue":"inherit",transition:"color 0.3s ease","@media (max-width: 1000px)":{whiteSpace:"wrap"}},children:t})},t)),v.map((t,e)=>{let{label:r,key:u}=t;return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(s.default,{sx:{width:"60px",textAlign:"center","@media (max-width: 1000px)":{gridColumn:"".concat(e+2," / span 1"),gridRow:"1 / span 1",textAlign:"center",width:"auto",transform:"rotate(-60deg)"}},children:(0,n.jsx)(l.default,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"bold",color:d===u?"blue":"inherit",transition:"color 0.3s ease"},children:r})}),i.map(t=>{var o;let r=!!(null===(o=m[t])||void 0===o?void 0:o[u]);return(0,n.jsx)(p.A,{onClick:()=>h(t,u),disabled:!r,variant:"outlined",sx:{width:"100%",aspectRatio:"1/1",minWidth:40,minHeight:40,padding:0,textAlign:"center",fontSize:"0.8rem",backgroundColor:a===t&&d===u?"rgba(255, 255, 0, 0.2)":"white",borderColor:a===t&&d===u?"yellow":"rgba(0,0,0,0.23)",transition:"background-color 0.3s ease, border-color 0.3s ease","@media (max-width: 1000px)":{minWidth:"initial",minHeight:"initial",fontSize:"0.7rem",gridColumn:"".concat(e+2," / span 1"),gridRow:"".concat(i.indexOf(t)+2," / span 1")}},children:r?"\uD83C\uDFB5":"x"},"".concat(t,"-").concat(u))})]},u)})]})})}var g=i(4770);let j=t=>{let{baseNote:e,setBaseNote:i}=t,o=t=>{i(e=>Math.max(21,Math.min(108,"up"===t?e+12:e-12)))},r=e-e%12,d=Array.from({length:12},(t,e)=>a.jN(r+e,"midi").toNote()).map(t=>t.substring(0,t.length-1));return(0,n.jsxs)(s.default,{sx:{my:3,textAlign:"center"},children:[(0,n.jsxs)(l.default,{variant:"h6",children:["Base Note: ",a.jN(e,"midi").toNote()]}),(0,n.jsxs)(s.default,{sx:{display:"flex",justifyContent:"center",gap:2,my:2},children:[(0,n.jsx)(p.A,{variant:"contained",onClick:()=>o("down"),children:"- Octave"}),(0,n.jsx)(p.A,{variant:"contained",onClick:()=>o("up"),children:"+ Octave"})]}),(0,n.jsx)(g.Ay,{min:r,max:r+11,step:1,value:e,onChange:(t,e)=>{i(e)},valueLabelDisplay:"auto",sx:{width:300,mx:"auto"},marks:d.map((t,e)=>({value:r+e,label:t}))})]})};var b=i(4671),w=i(7923);let y=t=>{let{instrument:e,setInstrument:i}=t;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.default,{sx:{my:2,textAlign:"center"},children:[(0,n.jsx)(l.default,{variant:"h6",children:"Select Instrument"}),(0,n.jsxs)(b.A,{value:e,onChange:t=>i(t.target.value),displayEmpty:!0,sx:{width:300,mx:"auto",display:"block"},children:[(0,n.jsx)(w.A,{value:"synth",children:"Synth"}),(0,n.jsx)(w.A,{value:"piano",children:"Piano"}),(0,n.jsx)(w.A,{value:"violin",children:"Violin"})]})]})})},C=(t,e)=>e.map(e=>a.jN(t+e,"midi").toFrequency());function N(){let[t,e]=(0,o.useState)("synth"),[i,u]=(0,o.useState)(48),[h,c]=(0,o.useState)(null),[p,v]=(0,o.useState)([]),[g,b]=(0,o.useState)(""),[w,N]=(0,o.useState)(""),A=i-2;return(0,o.useEffect)(()=>{let e;return c(e="piano"===t?new a.LC({urls:{C4:"C4.mp3",D4:"D4.mp3",E4:"E4.mp3"},baseUrl:"https://tonejs.github.io/audio/salamander/",onload:()=>console.log("Piano Loaded")}).toDestination():"violin"===t?new a.LC({urls:{C4:"violin_C4.mp3",D4:"violin_D4.mp3",E4:"violin_E4.mp3"},baseUrl:"https://YOUR_VIOLIN_SAMPLE_URL_HERE/",onload:()=>console.log("Violin Loaded")}).toDestination():new a.Bh(a.RG).toDestination()),()=>{e instanceof a.Bh&&e.releaseAll(),e.dispose()}},[t]),(0,n.jsxs)(r.A,{children:[(0,n.jsx)(l.default,{variant:"h4",align:"center",gutterBottom:!0,children:"Chord Player"}),(0,n.jsx)(y,{instrument:t,setInstrument:e}),(0,n.jsx)(j,{baseNote:i,setBaseNote:u}),g&&w&&(0,n.jsx)(x,{baseNote:i,chordType:g,inversion:w}),(0,n.jsx)(f,{playChord:(t,e)=>{if(!h||!m[t]||!m[t][e])return;let n=C(i,m[t][e]);v(n.map(t=>a.jN(t).toNote())),b(t),N(e),h instanceof a.Bh?(h.releaseAll(),h.triggerAttackRelease(n,"1n")):h instanceof a.LC&&(h.releaseAll(),n.forEach(t=>h.triggerAttackRelease(t,"1n")))}}),(0,n.jsx)(s.default,{sx:{"@media (max-width: 1000px)":{position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"white",zIndex:1e3,boxShadow:"0 -2px 5px rgba(0,0,0,0.2)"}},children:(0,n.jsx)(d,{activeNotes:p,startMidi:A})}),(0,n.jsx)(s.default,{sx:{minHeight:"8rem"}})]})}},8106:(t,e,i)=>{Promise.resolve().then(i.bind(i,6138))}},t=>{var e=e=>t(t.s=e);t.O(0,[453,411,80,441,684,358],()=>e(8106)),_N_E=t.O()}]);